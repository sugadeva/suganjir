<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Admin Panel Pterodactyl</title>
<style>
  body{background:#e8f1fc;color:#333;font-family:sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;}
  .card{background:white;padding:30px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.1);max-width:360px;width:100%;text-align:center;}
  h2{color:#1976d2;margin-bottom:20px;}
  input{width:100%;padding:12px;margin:10px 0;border:1px solid #ccc;border-radius:6px;font-size:16px;}
  button{width:100%;padding:12px;margin:8px 0;border-radius:6px;border:none;background:#1976d2;color:white;font-size:16px;cursor:pointer;}
  button:hover{background:#125ea9;}
  #actions{display:none;margin-top:20px;}
</style>
</head>
<body>
<div class="card">
  <h2>Admin Panel</h2>
  <input type="password" id="pw" placeholder="Admin Password">
  <button onclick="login()">Login</button>
  <div id="actions">
    <button onclick="clearUsers()">Clear All Users</button>
    <button onclick="clearServers()">Clear All Servers</button>
  </div>
  <p id="msg"></p>
</div>
<script>
  async function login(){
    const pw = document.getElementById("pw").value;
    const res = await fetch("/api/login", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({password: pw})
    });
    const ok = await res.text();
    if(ok === "OK"){
      document.getElementById("actions").style.display = "block";
      document.getElementById("msg").innerText = "Login berhasil!";
    } else {
      document.getElementById("msg").innerText = "Password salah.";
    }
  }
  async function clearUsers(){
    const res = await fetch("/api/clear-users", {method:"POST"});
    alert(await res.text());
  }
  async function clearServers(){
    const res = await fetch("/api/clear-servers", {method:"POST"});
    alert(await res.text());
  }
</script>
</body>
</html>
